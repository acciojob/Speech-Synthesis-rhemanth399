<!DOCTYPE html>
<html>
  <head>
    <title>Text-to-Speech Application</title>
  </head>
  <body>
    <div>
      <label for="text-input">Enter text to speak:</label>
      <textarea id="text-input"></textarea>
    </div>
    <div>
      <label for="voice-select">Select a voice:</label>
      <select id="voice-select"></select>
    </div>
    <div>
      <button id="start-button">Start</button>
      <button id="stop-button">Stop</button>
    </div>
    <script>
      // Create a new SpeechSynthesisUtterance object
      var utterance = new SpeechSynthesisUtterance();

      // Get the dropdown element and add event listener for when the value changes
      var voiceSelect = document.getElementById("voice-select");
      voiceSelect.addEventListener("change", setVoice);

      // Get the start button element and add event listener for when it's clicked
      var startButton = document.getElementById("start-button");
      startButton.addEventListener("click", startSpeaking);

      // Get the stop button element and add eventListener for when it's clicked
      var stopButton = document.getElementById("stop-button");
      stopButton.addEventListener("click", stopSpeaking);

      // Function to set the voice when a new option is selected from the dropdown
      function setVoice() {
        utterance.voice = speechSynthesis.getVoices().filter(function(voice) {
          return voice.name === voiceSelect.value;
        })[0];
      }

      // Function to start speaking
      function startSpeaking() {
        var text = document.getElementById("text-input").value;
        utterance.text = text;
        speechSynthesis.speak(utterance);
      }

      // Function to stop speaking
      function stopSpeaking() {
        speechSynthesis.cancel();
      }

    // Populate the dropdown with the available voices
    speechSynthesis.getVoices().forEach(function(voice) {
      var option = document.createElement("option");
      option.text = voice.name;
      option.value = voice.name;
      voiceSelect.appendChild(option);
    });
    </script>
  </body>
</html>
